\subsubsection{UC16-Visualizzazione lista ristoranti}
\begin{itemize}
\item \textbf{Attore principale:} Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente è connesso al sistema.
\item \textbf{Postcondizioni:} L'utente visualizza una lista di ristoranti.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di visualizzazione di una lista di ristoranti;
    \item L'utente visualizza una lista di ristoranti,ordinati secondo la loro valutazione media in ordine decrescente.
\end{enumerate}
\end{itemize}

\subsubsection{UC17-Ricerca ristorante}
\begin{itemize}
\item \textbf{Attore principale:}Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente è connesso al sistema.
\item \textbf{Postcondizioni:} L'utente visualizza la lista dei ristoranti corrispondenti ai criteri inseriti
dell'utente.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di ricerca di un ristorante;
    \item L'utente può effettuare la ricerca inserendo uno o più parametri ,corrispondenti
    ai seguenti criteri:
    \begin{itemize}
        \item Il nome del ristorante (vedi UC17.1-Ricerca per nome);
        \item La città del ristorante (vedi UC17.2-Ricerca per città);
        \item La valutazione media del ristorante (vedi UC17.3-Ricerca per valutazione);
        \item La tipologia di cucina (vedi UC17.4-Ricerca per tipologia di cucina);
        \item L'orario (vedi UC17.5-Ricerca ristorante per orario) ;
        \item La data (vedi UC17.6-Ricerca ristorante per data);
    \end{itemize}
    \item  Il sistema filtra la lista di ristoranti secondo i criteri inseriti;
    \item L'utente visualizza la lista dei ristoranti che rispettano i criteri da lui inseriti.
\end{enumerate}
\end{itemize}

\textbf{UC17.1-Ricerca ristorante per nome}
\begin{itemize}
\item \textbf{Attore principale:}Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente è connesso al sistema.
\item \textbf{Postcondizioni:} L'utente visualizza la lista dei ristoranti corrispondenti
alla ricerca per nome da lui inserito.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di ricerca di un ristorante;
    \item L'utente inserisce il testo che deve essere contenuto nel nome;
    \item Il sistema filtra la lista di ristoranti secondo il criterio inserito;
    \item L'utente visualizza la lista dei ristoranti corrispondenti al nome da lui inserito.
\end{enumerate}
\end{itemize}

\textbf{UC17.2-Ricerca ristorante per città}
\begin{itemize}
\item \textbf{Attore principale:}Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente è connesso al sistema.
\item \textbf{Postcondizioni:} L'utente visualizza la lista dei ristoranti corrispondenti alla città da lui inserita.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di ricerca di un ristorante;
    \item L'utente inserisce la città come parametro di ricerca;
    \item Il sistema filtra la lista di ristoranti secondo il criterio inserito;
    \item L'utente visualizza la lista dei ristoranti corrispondenti alla città inserita.
\end{enumerate}
\end{itemize}

\textbf{UC17.3-Ricerca ristorante per valutazione}
\begin{itemize}
\item \textbf{Attore principale:}Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente è connesso al sistema.
\item \textbf{Postcondizioni:} L'utente visualizza la lista dei ristoranti la cui valutazione è maggiore o uguale alla
valutazione da lui inserita.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di ricerca di un ristorante;
    \item L'utente inserisce il valore della valutazione che desidera;
    \item Il sistema filtra la lista di ristoranti secondo il criterio inserito;
    \item L'utente visualizza la lista dei ristoranti con valutazione maggiore o uguale a quella da lui inserita.
\end{enumerate}
\end{itemize}

\textbf{UC17.4-Ricerca ristorante per tipologia di cucina}
\begin{itemize}
\item \textbf{Attore principale:}Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente è connesso al sistema.
\item \textbf{Postcondizioni:} L'utente visualizza la lista dei ristoranti che offrono la tipologia di cucina
da lui inserita.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di ricerca di un ristorante;
    \item L'utente seleziona una o più tipologie di cucina alle quali è interessato;
    \item Il sistema filtra la lista di ristoranti secondo il criterio inserito;
    \item L'utente visualizza la lista dei ristoranti che offrono la/e tipologia/e di cucina da egli cercata.
\end{enumerate}
\end{itemize}

\textbf{UC17.5-Ricerca ristorante per orario}
\begin{itemize}
\item \textbf{Attore principale: }Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente è connesso al sistema.
\item \textbf{Postcondizioni:} L'utente visualizza la lista dei ristoranti che hanno posti disponibili nell'orario
da lui scelto.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di ricerca di un ristorante;
    \item L'utente seleziona l'orario ;
    \item Il sistema filtra la lista di ristoranti secondo il criterio inserito;
    \item L'utente visualizza la lista dei ristoranti che hanno posti disponibili nell'orario da lui
    selezionato.
\end{enumerate}
\end{itemize}

\textbf{UC17.6-Ricerca ristorante per data}
\begin{itemize}
\item \textbf{Attore principale:} Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente è connesso al sistema.
\item \textbf{Postcondizioni:} L'utente visualizza la lista dei ristoranti che hanno posti disponibili
nella data da lui selezionata.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di ricerca di un ristorante;
    \item L'utente seleziona la data;
    \item Il sistema filtra la lista di ristoranti secondo il criterio inserito;
    \item L'utente visualizza la lista dei ristoranti che hanno posti disponibili
    nella data selezionata .
\end{enumerate}
\end{itemize}

\subsubsection{UC18-Visualizzazione ristorante}
\begin{itemize}
\item \textbf{Attore principale:} Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente è connesso al sistema e sta visualizzando una lista di ristoranti.
\item \textbf{Postcondizioni:} L'utente visualizza le informazioni relative al ristorante selezionato.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona un ristorante dalla lista che sta visualizzando ;
    \item L'utente visualizza le informazioni relative al ristorante :
    \begin{itemize}
        \item Il nome;
        \item il recapito telefonico;
        \item L'indirizzo;
        \item gli orari di servizio;
        \item la/le tipologie di cucine offerte;
        \item la valutazione media.
    \end{itemize}
    \item L'utente può scegliere di visualizzare il menù completo (vedi UC18.1-Visualizzazione menù);
    \item L'utente può scegliere di visualizzare le recensioni rilasciate da altri utenti (vedi UC18.2-Visualizzazione recensioni).
\end{enumerate}
\end{itemize}

\textbf{UC18.1-Visualizzazione menù}
\begin{itemize}
\item \textbf{Attore principale:} Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente sta visualizzando le informazioni di un ristorante.
\item \textbf{Postcondizioni:} L'utente visualizza il menù del ristorante.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di visualizzazione del menù del ristorante;
    \item L'utente visualizza la lista completa delle pietanze presenti nel menù;
    \item L'utente può effettuare la ricerca di una pietanza (vedi UC18.1.1-Ricerca pietanza);
    \item L'utente può visualizzare i dettagli relativi ad una singola pietanza presente
     nel menù (vedi UC18.1.2-Visualizzazione pietanza).
\end{enumerate}
\end{itemize}

\textbf{UC18.1.1-Ricerca pietanza}
\begin{itemize}
\item \textbf{Attore principale:} Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente sta visualizzando il menù di un ristorante.
\item \textbf{Postcondizioni:} L'utente visualizza la lista delle pietanze corrispondenti ai parametri di ricerca.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di ricerca di una pietanza ;
    \item L'utente può effettuare la ricerca per nome;
    \item L'utente può effettuare la ricerca selezionando gli allergeni che non vuole
    siano presenti nelle pietanze del menù;
    \item Il sistema filtra la lista delle pietanze secondo i parametri inseriti;
    \item L'utente visualizza la lista delle pietanze corrispondenti ai criteri di ricerca
    (la lista eventualmente può essere vuota).
\end{enumerate}
\end{itemize}

\textbf{UC18.1.2-Visualizzazione pietanza}
\begin{itemize}
\item \textbf{Attore principale:} Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente sta visualizzando il menù di un ristorante.
\item \textbf{Postcondizioni:} L'utente visualizza le informazioni relative alla pietanza selezionata.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona una pietanza in particolare, presente nel menù che sta visualizzando;
    \item L'utente visualizza le seguenti informazioni ad essa relativa:
    \begin{itemize}
        \item La lista degli ingredienti in essa presenti;
        \item La lista degli allergeni;
        \item Il prezzo.
    \end{itemize}
\end{enumerate}
\end{itemize}

\textbf{UC18.2-Visualizzazione recensioni}
\begin{itemize}
\item \textbf{Attore principale:} Utente non riconosciuto / cliente.
\item \textbf{Precondizioni:} L'utente sta visualizzando le informazioni relative ad un ristorante.
\item \textbf{Postcondizioni:} L'utente visualizza le ultime 5 recensioni fatte in ordine temporale decrescente da altri utenti.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item L'utente seleziona la funzionalità di visualizzazione delle recensioni fatte da altri utenti
    sulla loro esperienza presso il ristorante;
    \item Di default,se presenti più di 5 recensioni, il sistema ne presenta una lista con le ultime 5 fatte in ordine temporale decrescente;
    \item L'utente visualizza le suddette recensioni ,corredate dalle seguenti informazioni:
    \begin{itemize}
        \item Un voto da 1 a 5 sul menù;
        \item Un voto da 1 a 5 sul servizio;
        \item Un voto da 1 a 5 sul prezzo;
        \item Un eventuale commento testuale.
    \end{itemize}
\end{enumerate}
\end{itemize}

\subsubsection{UC19-Prenotazione di un tavolo}
\begin{itemize}
    \item \textbf{Attore principale: }Cliente.
    \item \textbf{Precondizioni: }Il cliente sta visualizzando le informazioni di un ristorante.
    \item \textbf{Postcondizioni: }La prenotazione è salvata nella lista delle prenotazioni del cliente.
    \item \textbf{Scenario principale:}
        \begin{enumerate}
            \item Il cliente seleziona la funzionalità di richiesta di una nuova prenotazione;
            \item Il sistema illustra i giorni in cui è possibile effettuare la richiesta;
            \item Il cliente seleziona il giorno di calendario;
            \item Il sistema illustra le fasce orarie disponibili;
            \item Il cliente seleziona l'orario;
            \item Il cliente inserisce il numero di persone che parteciperanno alla prenotazione;
            \item Il cliente dà la conferma ed effettua la richiesta;
            \item il cliente visualizza la lista delle sue prenotazioni,ove è presente la prenotazione appena
            effettuata.
        \end{enumerate}
\end{itemize}

\subsubsection{UC20-Visualizzazione lista prenotazioni}
\begin{itemize}
    \item \textbf{Attore principale: } Cliente.
    \item \textbf{Precondizioni: }Il cliente sta visualizzando le sue informazioni personali.
    \item \textbf{Postcondizioni: }Il cliente visualizza la lista delle sue prenotazioni.
    \item \textbf{Scenario principale:}
        \begin{enumerate}
            \item L'utente seleziona la funzionalità di visualizzazione delle sue prenotazioni;
            \item L'utente può filtrare le prenotazioni tramite dei parametri (si veda UC15);
            \item L'utente può selezionare una prenotazione singola per vederne il dettaglio (si veda UC21).
        \end{enumerate}
\end{itemize}

\subsubsection{UC15-Filtra prenotazioni}
\begin{itemize}
\item \textbf{Attore principale:} Cliente.
\item \textbf{Precondizioni:} Il cliente sta visualizzando la lista delle sue prenotazioni.
\item \textbf{Postcondizioni:} Il cliente visualizza la lista delle prenotazioni corrispondenti ai parametri di filtraggio.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item Il cliente seleziona l'opzione di filtraggio delle prenotazioni.
    \item Il cliente può filtrare le prenotazioni secondo due parametri:
              \begin{itemize}
                \item Attive: prenotazioni future negli stati "In attesa" o "Accettata";
                \item Scadute: prenotazioni passate o nello stato di "Rifiutata";
              \end{itemize}
    \item Il sistema filtra la lista di prenotazioni secondo il parametro selezionato;
    \item Il cliente visualizza la lista di prenotazioni corrispondenti al parametro da lui selezionato. 
\end{enumerate}
\end{itemize}

\subsubsection{UC21-Visualizzazione singola prenotazione}
\begin{itemize}
    \item \textbf{Attore principale: } Cliente.
    \item \textbf{Precondizioni: }Il cliente sta visualizzando la lista delle sue prenotazioni.
    \item \textbf{Postcondizioni: }Il cliente visualizza le informazioni relative ad una singola prenotazione.
    \item \textbf{Scenario principale:}
        \begin{enumerate}
            \item L'utente seleziona una prenotazione in particolare;
            \item L'utente visualizza la lista delle informazioni relative alla prenotazione selezionata:
            \begin{itemize}
                \item Il nome del ristorante;
                \item L'indirizzo del ristorante;
                \item L'orario;
                \item Il numero di persone ;
                \item Lo stato della prenotazione (se è in attesa di conferma da parte del ristoratore
                o se è già stata confermata).
            \item Il cliente può andare a generare il link per la condivisione della prenotazione (si veda UC23).
            \end{itemize}
        \end{enumerate}
    \item \textbf{Estensione: }UCE21-Prenotazione rifiutata
\end{itemize}

        %L'estensione avviene in seguito all'UC34 del ristoratore, ma credo che dobbiamo tenere la notazione
        %UCE che usiamo per le estensioni ?
\subsubsection{UCE21-Prenotazione rifiutata}
\begin{itemize}
    \item \textbf{Descrizione: }Se il ristoratore rifiuta una delle prenotazioni del cliente in attesa di conferma,
    mentre quest'ultimo sta visualizzando la lista delle sue prenotazioni, il cliente si accorge del rifiuto quando
    seleziona la suddetta prenotazione.
    \item \textbf{Scenario alternativo: }
    \begin{enumerate}
        \item Il cliente seleziona una prenotazione rifiutata mentre sta visualizzando la lista
        delle sue prenotazioni;
        \item Il sistema comunica un messaggio di errore al cliente,dicendogli che la prenotazione selezionata
        è stata rifiutata e che non è più possibile visualizzarne le informazioni.
    \end{enumerate}
\end{itemize}

\subsubsection{UC22-Cancellazione prenotazione}
\begin{itemize}
    \item \textbf{Attore principale: } Cliente.
    \item \textbf{Precondizioni: }Il cliente sta visualizzando le informazioni di una singola prenotazione
    e c'è una differenza di almeno 48 ore tra il datetime in cui il cliente fa la richiesta di cancellazione e quello della prenotazione.
    \item \textbf{Postcondizioni: }La prenotazione è stata cancellata e non è più presente nella lista di prenotazioni
    del cliente.
    \item \textbf{Scenario principale:}
        \begin{enumerate}
            \item Il cliente seleziona l'opzione di cancellazione della prenotazione;
            \item Il cliente dà la conferma ed effettua la cancellazione;
            \item Il sistema notifica il ristoratore dell'avvenuta cancellazione;
            \item Il cliente visualizza la lista delle sue prenotazioni aggiornata,priva di quella appena
            cancellata.
        \end{enumerate}
\end{itemize}

\subsubsection{UC23-Condivisione della prenotazione}
\begin{itemize}
    \item \textbf{Attore principale: } Cliente.
    \item \textbf{Precondizioni: }Il cliente sta visualizzando le informazioni di una sua singola prenotazione (si veda UC21).
    \item \textbf{Postcondizioni: }Il cliente ha una copia testuale del link relativo alla prenotazione.
    \item \textbf{Scenario principale:}
        \begin{enumerate}
            \item L'utente seleziona la funzionalità di condivione del link afferente alla prenotazione;
            \item Il sistema genera il link relativo alla prenotazione;
            \item Il cliente selezione l'opzione di copia testuale del link.
            %Come ad esempio si fa con il link delle repo di git hub;
            %Non so se aggiungere dettagli ,tipo condivisione del link su servizio di messaggistica,
            %che però teoricamente è fuori dal sistema;è anche vero che il sistema può gestire come su telegram
            %o whatsapp fino alla scelta del servizio di messaggistica per la condivisione di un contenuto.
        \end{enumerate}
\end{itemize}

\subsubsection{UC24-Accettazione di invito di partecipazione ad una prenotazione}
\begin{itemize}
    \item \textbf{Attore principale: } Utente non riconosciuto.
    \item \textbf{Precondizioni: }L'utente possiede il link per partecipare ad una prenotazione.
    \item \textbf{Postcondizioni: }La prenotazione è salvata nella lista delle prenotazioni dell'utente.
    \item \textbf{Scenario principale:}
        \begin{enumerate}
            \item L'utente seleziona il link di partecipazione alla prenotazione;
            \item L'utente effettua il login per accedere al sistema;
            \item L'utente seleziona il profilo cliente con il quale partecipare alla prenotazione;
            \item L'utente visualizza la prenotazione alla quale è stato invitato nella lista delle sue
            prenotazioni.
        \end{enumerate}
        \item \textbf{Estensione: }UCE24-Raggiunto numero massimo di partecipanti
    \end{itemize}

\subsubsection{UCE24-Raggiunto numero massimo di partecipanti}
\begin{itemize}
    \item \textbf{Descrizione: }Possono accedere alla prenotazione tramite il link di
    invito un numero massimo di utenti uguale al numero di partecipanti indicato al momento della
    prenotazione.
    \item \textbf{Scenario alternativo: }
    \begin{enumerate}
        \item L'utente riconosciuto seleziona il profilo con il quale partecipare alla prenotazione;
        \item Il sistema notifica all'utente un messaggio di errore,in cui gli comunica che è stato
        già raggiunto il numero massimo di partecipanti ;
        %Forse l'estensione può terminare anche con il messaggio di errore.
        \item L'utente visualizza la sua lista di prenotazioni senza la prenotazione alla quale voleva
        partecipare.
    \end{enumerate}
\end{itemize}

