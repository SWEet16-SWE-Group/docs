
% forse questo non era da mettere qui ma ormai c'è
\textbf{UC26-Annullamento ordinazione}
\begin{itemize}
\item \textbf{Attore principale:} Cliente.
\item \textbf{Precondizioni:} Il cliente ha effettuato almeno un'ordinazione.
\item \textbf{Postcondizioni:} L'ordinazione selezionata è stata annullata.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item Il cliente ha ordinato un insieme di pietanze che non desidera più;
    \item Il cliente clicca sull'ordinazione;
    \item Il cliente clicca sul bottone annulla;
    \item Il sistema rimuove le pietanze dell'ordinazione;
\end{enumerate}
\end{itemize}

\textbf{UC27-Selezione modalità di divisione del conto}
\begin{itemize}
\item \textbf{Attore principale:} Cliente.
\item \textbf{Precondizioni:} Il cliente deve avere una prenotazione accettata dal ristoratore che abbia superato il
  limite temporale di modifica degli ordini.
\item \textbf{Postcondizioni:} Il conto viene diviso a seconda della modalità scelta.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item Il cliente clicca sulla selezione della modalità di divisione del conto;
    \item Il cliente clicca sceglie se pagamento equo o proporzionale;
    \item Il cliente viene reindirizzato visualizzazione del conto di ogni cliente.
\end{enumerate}
\end{itemize}

\textbf{UCE27-Errore selezione già effettuata}
\begin{itemize}
\item \textbf{Attore principale:} Cliente.
\item \textbf{Descrizione:} Uno solo dei clienti può effettuare la selezione della modalità di divisione del conto.
  il primo che preme, sceglie per tutti.
\item \textbf{Scenario alternativo:}
\begin{enumerate}
    \item Il cliente clicca sulla selezione della modalità di divisione del conto;
    \item Il sistema mostra un messaggio di errore pertinente;
    \item Il cliente viene reindirizzato visualizzazione del conto di ogni cliente.
\end{enumerate}
\end{itemize}

\textbf{UC28-Pagamento in app}
\begin{itemize}
\item \textbf{Attore principale:} Cliente.
\item \textbf{Attore secondario:} Processore di pagamenti.
\item \textbf{Precondizioni:} Il cliente deve avere una prenotazione accettata dal ristoratore che abbia superato il
  limite temporale di modifica degli ordini ed è stata scelta la modalità di divisione del conto.
\item \textbf{Postcondizioni:} Il cliente ha pagato con successo.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item Il cliente accede all'app per pagare in anticipo;
    \item Il cliente apre la prenotazione che vuole pagare;
    \item Il cliente clicca sul tasto paga;
    \item Il sistema mostra un form con un menù a tendina chiedente il metodo di pagamento
      (Carta di credito, carta di debito, Paypal, etc);
    \item Il cliente clicca sul tipo desiderato;
      % non ... io non ... non so cosa dire
      % ci sto provando davvero
    \item Il sistema crea un richiesta di pagamento tramite il metodo desiderato e 
      apre una scheda dove il cliente può pagare;
    \item Il cliente paga;
    \item Il sistema riceve la conferma del pagamento e reindirizza il cliente alla pagina di visualizzazione della singola prenotazione;
\end{enumerate}
    \item \textbf{Estensioni:}
        \begin{itemize}
                \item UCE28-Errore di pagamento.
        \end{itemize}
\end{itemize}

\textbf{UCE28-Errore di pagamento}
\begin{itemize}
\item \textbf{Descrizione: } Il processore di pagamento ha dato un errore.
\item \textbf{Scenario alternativo:}
\begin{enumerate}
    \item Al momento di ricezione della conferma viene ottenuto un errore;
    \item Il sistema comunica la natura dell'errore all'utente;
    \item Il cliente visualizza il form della selezione del tipo di pagamento desiderato.
\end{enumerate}
\end{itemize}

\textbf{UC29-Inserimento di feedback e recensioni}
\begin{itemize}
\item \textbf{Attore principale:} Cliente.
\item \textbf{Precondizioni:} Esiste almeno una prenotazione pagata con quel ristorante.
\item \textbf{Postcondizioni:} È stato lasciato il feedback.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item Il cliente clicca sul tasto per lasciare la recensione;
    \item Il sistema mostra un form contente tre voti da una a cinque stelle, rispettivamente per:
  \begin{itemize}
    \item Menù;
    \item Servizio;
    \item Prezzo.
  \end{itemize}
      Segue poi un campo di testo;
    \item Il cliente può riempire i tre voti (obbligatori) e il campo di testo (facoltatico);
    \item Il cliente fa il submit del form;
    \item Il sistema reindirizza alla pagina del ristorante dove è possibile vedere la propria recensione.
\end{enumerate}
\end{itemize}

\textbf{UC30-Visualizzazione notifica cambio stato prenotazione}
\begin{itemize}
\item \textbf{Attore principale:} Cliente.
\item \textbf{Precondizioni:} Il cliente ha una prenotazione in attesa.
\item \textbf{Postcondizioni:} Il cliente visualizza una notifica con il nuovo stato della prenotazione
\item \textbf{Scenario principale:}
\begin{enumerate}
    % TODO non so come descriverlo meglio, ci ho provato
    \item Il ristoratore accetta o rifiuta la prenotazione;
    \item Al cliente compare una notifica contenente il nuovo stato della prenotazione.
\end{enumerate}
\end{itemize}

\textbf{UC32-Visualizzazione notifica accettazione invito da parte di altri utenti}
\begin{itemize}
\item \textbf{Attore principale:} Cliente.
\item \textbf{Precondizioni:} Il cliente ha una prenotazione attiva e ha condiviso il link di invito tramite terze parti.
\item \textbf{Postcondizioni:} Il cliente visualizza una notifica con il nome del profilo di chi ha accettato l'invito.
\item \textbf{Scenario principale:}
\begin{enumerate}
    \item Il cliente mittente copia il link fornito per invitare altri profili alla propria prenotazione e lo diffonde tramite
      servizi di terze parti;
    \item Un destinatario del link lo clicca;
    \item Il sistema chiede il login in caso l'utente destinatario non sia già loggato;
    \item Il sistema mostra i profili cliente disponibili con cui accettare l'invito alla prenotazione;
    \item L'utente destinatario seleziona un profilo;
    \item Al cliente mittente compare una notifica contentente il nuovo profilo aggiuntosi alla prenotazione.
\end{enumerate}
\end{itemize}

% TODO forse;  mettere UC48-Visualizzazione messaggio in chat 
% si potrebbe mettere un link all'uc48 che è rilevante
